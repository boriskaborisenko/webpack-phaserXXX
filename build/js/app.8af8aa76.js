!function(e){function t(t){for(var i,n,l=t[0],r=t[1],h=t[2],p=0,c=[];p<l.length;p++)n=l[p],a[n]&&c.push(a[n][0]),a[n]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(d&&d(t);c.length;)c.shift()();return o.push.apply(o,h||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,l=1;l<s.length;l++){var r=s[l];0!==a[r]&&(i=!1)}i&&(o.splice(t--,1),e=n(n.s=s[0]))}return e}var i={},a={0:0},o=[];function n(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=i,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var l=window.webpackJsonp=window.webpackJsonp||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var h=0;h<l.length;h++)t(l[h]);var d=r;o.push([1200,1]),s()}({1200:function(e,t,s){"use strict";s.r(t);s(496),s(497),s(1179),s(1188),s(492);var i,a,o,n=window.innerWidth,l=window.innerHeight,r={type:Phaser.AUTO,parent:"game",backgroundColor:"#138792",width:n,height:l,physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:{preload:function(){var e=this.add.graphics(),t=this.add.graphics();t.fillStyle(2236962,.2),t.fillRect(n/2-150,l/2-15,300,30);this.cameras.main.width,this.cameras.main.height;var s=this.make.text({x:n/2,y:l/2-36,text:"Loading",style:{font:"20px "+h,fill:"#ffffff"}});s.setOrigin(.5,.5);var i=this.make.text({x:n/2,y:l/2,text:"0%",style:{font:"14px "+h,fill:"#ffffff"}});i.setOrigin(.5,.5).setDepth(30),this.load.on("progress",function(t){i.setText(parseInt(100*t)+"%"),e.clear(),e.fillStyle(9292897,1),e.fillRect(n/2-145,l/2-12.5,290*t,25).setDepth(10)}),this.load.on("complete",function(){e.destroy(),t.destroy(),s.destroy(),i.destroy()}),this.load.audio("song","public/assets/sfx/marvin.wav"),this.load.audio("sfx-fly","public/assets/sfx/fly.wav"),this.load.audio("sfx-coin","public/assets/sfx/coin.wav"),this.load.audio("sfx-die","public/assets/sfx/die.wav"),this.load.image("soundwaves","public/assets/soundON.png"),this.load.image("sound","public/assets/soundOFF.png"),this.load.image("ground","public/assets/platform.png"),this.load.image("line","public/assets/line.png"),this.load.image("clear","public/assets/clear.png"),this.load.image("block","public/assets/block.png"),this.load.image("hole","public/assets/hole.png"),this.load.image("holeup","public/assets/holeup.png"),this.load.image("holedown","public/assets/holedown.png"),this.load.image("bg","public/assets/bg.png"),this.load.image("bgb1","public/assets/bgb1.png"),this.load.image("bgb2","public/assets/bgb2.png"),this.load.image("bgb3","public/assets/bgb3.png"),this.load.image("bgsky","public/assets/bgsky.png"),this.load.image("bggross","public/assets/bggross.png"),this.load.image("bgend","public/assets/bgend.png"),this.load.spritesheet("bird","public/assets/bird2.png",{frameWidth:43,frameHeight:30})},create:function(){i=this,this.sfxfly=this.sound.add("sfx-fly"),this.sfxcoin=this.sound.add("sfx-coin"),this.sfxdie=this.sound.add("sfx-die"),this.song=this.sound.add("song"),this.taptoplay=this.add.text(0,m-20,"tap to play",{fontFamily:h,fontSize:"32px",fill:"#ffffff"}),this.taptoplay.setDepth(10),this.taptoplay.setAlpha(.4),this.taptoplay.x=n/2-this.taptoplay.displayWidth/2+40,this.score=this.add.text(0,40,"0",{fontFamily:h,fontSize:"56px",fill:"#ffffff"}),this.score.setDepth(221),this.score.x=n/2-this.score.displayWidth/2,this.bgsky=this.add.tileSprite(0,0+y,n,500,"bgsky").setOrigin(0),this.bgb1=this.add.tileSprite(0,0+y,n,500,"bgb1").setOrigin(0),this.bgb2=this.add.tileSprite(0,0+y,n,500,"bgb2").setOrigin(0),this.bgb3=this.add.tileSprite(0,0+y,n,500,"bgb3").setOrigin(0),this.bggross=this.add.tileSprite(0,0+y,n,500,"bggross").setOrigin(0),this.line=this.add.tileSprite(0,500+y,n,400,"line").setOrigin(0).setDepth(100),this.floor=this.physics.add.image(0,500+y,"clear").setOrigin(0).setDisplaySize(n,10),this.floor.body.immovable=!0,this.clear=this.physics.add.image(-90,0,"clear").setOrigin(0).setDisplaySize(1,l),this.pipes=this.add.group(),this.pointpipes=this.add.group(),this.timedEvent=this.time.addEvent({delay:D,callback:T,callbackScope:this,loop:!0}),this.player=this.physics.add.sprite(n/2-b,m,"bird"),this.player.setDepth(150),this.anims.create({key:"fly",frames:this.anims.generateFrameNumbers("bird",{start:0,end:2}),frameRate:10,repeat:0}),this.anims.create({key:"flyinf",frames:this.anims.generateFrameNumbers("bird",{start:0,end:2}),frameRate:10,repeat:-1}),this.player.play("flyinf",!0),this.physics.add.overlap(this.clear,this.pipes.getChildren(),P,null,this),this.physics.add.overlap(this.clear,this.pointpipes.getChildren(),P,null,this),this.physics.add.overlap(this.player,this.pointpipes.children.entries,A,null,this),this.physics.add.collider(this.player,this.pipes.getChildren(),k,null,this),this.physics.add.collider(this.player,this.floor,k,null,this),this.input.setTopOnly(!0),this.allscreen=this.add.image(0,0,"clear").setOrigin(0).setDisplaySize(n,l),this.allscreen.setDepth(200),this.allscreen.setAlpha(.1),this.allscreen.setInteractive(),this.allscreen.on("pointerdown",function(e){g?(console.log("tap on start"),g=!1,c=!1,i.score.text="0",d=0,i.player.setGravity(0,500),i.player.setCollideWorldBounds(!0),i.song.play({loop:!0}),j()):j()},this),this.soundbtn=this.physics.add.image(n-50,10,"sound").setOrigin(0).setDisplaySize(40,40).setDepth(140),this.soundwaves=this.physics.add.image(n-50,10,"soundwaves").setOrigin(0).setDisplaySize(40,40).setDepth(139),this.soundbtn.setDepth(300),this.soundbtn.setInteractive(),this.soundbtn.on("pointerdown",function(e){console.log("sound"),u?(console.log("UNMUTE"),i.sfxfly.volume=1,i.sfxcoin.volume=1,i.sfxdie.volume=1,i.song.volume=.4,i.soundwaves.setAlpha(1),u=!1):(console.log("MUTE"),i.sfxfly.volume=0,i.sfxcoin.volume=0,i.sfxdie.volume=0,i.song.volume=0,i.soundwaves.setAlpha(0),u=!0)})},update:function(){c||(Phaser.Actions.Call(i.pipes.getChildren(),function(e){e.x-=S}),Phaser.Actions.Call(i.pointpipes.getChildren(),function(e){e.x-=S}),i.taptoplay.x-=S,a&&(this.player.setVelocityY(-200),this.player.play("fly",!0),a=!1,this.player.angle=-10,this.sfxfly.play()),o?this.player.angle=-20:this.player.angle+=1);f||(i.line.tilePositionX+=S,i.bgb1.tilePositionX+=.1,i.bgb2.tilePositionX+=.25,i.bgb3.tilePositionX+=.45,i.bgsky.tilePositionX+=.05,i.bggross.tilePositionX+=.6);g&&this.player.setGravity(0,0)}}},h=(new Phaser.Game(r),"Paytone One"),d=0,p=0,c=!0,g=!0,f=!1;var u=!1,y=(l<=480?{top:-50}:l>480?{top:(l-600)/2}:void 0).top,b=100,m=250+y,v=(500+y)/60,x=v/3,w=v-x,O={a:Math.round(v),b:Math.ceil(x),c:Math.floor(w)},S=3.4,D=Phaser.Math.Between(2400,2400);function P(e,t){t.destroy()}function k(){f||(c=!0,f=!0,this.song.stop(),this.sfxdie.play(),this.player.angle=45,Phaser.Actions.Call(this.pipes.getChildren(),function(e){e.disableBody()}),setTimeout(function(){!function(){console.log("startscreen",g),console.log("freeze",c),console.log("dead",f),console.log("end scenrio"),d>p&&(p=d);i.bgend=i.add.tileSprite(0,0,n,500,"bgend").setOrigin(0).setDisplaySize(n,l).setAlpha(0),i.bgend.setDepth(200),i.theend=i.add.text(0,0,"The end",{fontFamily:h,fontSize:"60px",fill:"#70B46E"}),i.theend.setDepth(221),i.theend.setAlpha(0),i.theend.x=n/2-i.theend.displayWidth/2,i.theend.y=-200,i.highscore=i.add.text(0,0,"highscore: "+p,{fontFamily:h,fontSize:"24px",fill:"#8DCC61"}),i.highscore.setDepth(221),i.highscore.setAlpha(0),i.highscore.x=n/2-i.highscore.displayWidth/2,i.highscore.y=l+200,i.tweens.add({targets:i.bgend,alpha:1,duration:1e3,delay:1e3}),i.tweens.add({targets:i.theend,y:l/2-80,alpha:1,duration:1500,delay:1e3}),i.tweens.add({targets:i.highscore,y:l/2,alpha:1,duration:1500,delay:1e3,onComplete:C})}()},400))}function C(){console.log("clear stage...");for(var e=0;e<10;e++)i.pipes.children.entries.map(function(e){return e.destroy()}),i.pointpipes.children.entries.map(function(e){return e.destroy()});i.player.setGravity(0,0),i.player.angle=0,i.player.x=n/2-b,i.player.y=m,i.taptoplay.x=n/2-i.taptoplay.displayWidth/2+40,i.player.play("flyinf",!0),i.tweens.add({targets:[i.highscore,i.theend,i.bgend],alpha:0,duration:1500,delay:2e3,onComplete:z})}function z(){i.highscore.destroy(),i.theend.destroy(),i.bgend.destroy(),f=!1,g=!0}function A(e,t){f||(d++,this.score.text=d,this.sfxcoin.play(),t.destroy())}function M(e,t,s){if("hole"!=e){var a=i.physics.add.image(t,s,e);a.body.immovable=!0,i.pipes.add(a)}else{var o=i.physics.add.image(t+30,s,e);o.body.immovable=!0,i.pointpipes.add(o)}}function T(){if(c)console.log("pipes not make");else for(var e,t=Phaser.Math.Between(O.b,O.c),s=-60,i=0,a=0;a<O.a;a++)a==t-1&&(e="holeup",s+=60,i=0),a==t&&(e="hole",s+=60,i=30),a==t+1&&(e="holedown",s+=120,i=0),a!=t&&a!=t+1&&a!=t-1&&(e="block",s+=60,i=0),M(e,n+80,s+i)}function j(){a=!0,o=!0,setTimeout(function(){o=!1},200)}},496:function(e,t,s){}});
//# sourceMappingURL=app.8af8aa76.js.map